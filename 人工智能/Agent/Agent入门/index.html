<!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->


<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://biolbe1230.github.io/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Agent/Agent%E5%85%A5%E9%97%A8/">
      
      
        <link rel="prev" href="../../..">
      
      
        <link rel="next" href="../Agent%E6%A1%86%E6%9E%B6/">
      
      
      <link rel="icon" href="../../../img/fav.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Norco_1 - 买不到桂花的博客</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen+GB+Screen:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen GB Screen";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../_css/extra.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

  <!-- Extra style sheets (can't be set in mkdocs.yml due to content hash) -->
  <link
    rel="stylesheet"
    href="../../../assets/stylesheets/custom.scss"
  />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#llm" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="买不到桂花的博客" class="md-header__button md-logo" aria-label="买不到桂花的博客" data-md-component="logo">
      
  <img src="../../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            买不到桂花的博客
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Norco_1
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  欢迎页

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  人工智能

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%94%B5%E5%AD%90%E8%8D%92%E5%8E%9F/Norco/" class="md-tabs__link">
          
  
    
  
  电子荒原

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E8%BF%B7%E5%A4%B1%E7%8E%89%E8%A8%80/Git_basic/" class="md-tabs__link">
          
  
    
  
  迷失玉言

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="买不到桂花的博客" class="md-nav__button md-logo" aria-label="买不到桂花的博客" data-md-component="logo">
      
  <img src="../../../img/logo.png" alt="logo">

    </a>
    买不到桂花的博客
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    欢迎页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    人工智能
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            人工智能
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Agent
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Agent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Norco_1
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Norco_1
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#llm" class="md-nav__link">
    <span class="md-ellipsis">
      LLM
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      聊天模板
    </span>
  </a>
  
    <nav class="md-nav" aria-label="聊天模板">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      使用模板
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      工具
    </span>
  </a>
  
    <nav class="md-nav" aria-label="工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      提供工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      使用工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      例子
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Agent%E6%A1%86%E6%9E%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent框架
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    LLM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            LLM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LLM/LLM%E5%85%A5%E9%97%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM入门
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    电子荒原
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            电子荒原
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E7%94%B5%E5%AD%90%E8%8D%92%E5%8E%9F/Norco/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Norco
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Norco
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%AD%90%E8%8D%92%E5%8E%9F/Norco/norco1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Norco_1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%AD%90%E8%8D%92%E5%8E%9F/Norco/norco2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Norco_2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    迷失玉言
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            迷失玉言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%BF%B7%E5%A4%B1%E7%8E%89%E8%A8%80/Git_basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GIT BASIC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%BF%B7%E5%A4%B1%E7%8E%89%E8%A8%80/Shell_basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SHELL BASIC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#llm" class="md-nav__link">
    <span class="md-ellipsis">
      LLM
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      聊天模板
    </span>
  </a>
  
    <nav class="md-nav" aria-label="聊天模板">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      使用模板
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      工具
    </span>
  </a>
  
    <nav class="md-nav" aria-label="工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      提供工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      使用工具
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      例子
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <span class="md-tag">AGI</span>
      
    
      
      
      
        <span class="md-tag">AI</span>
      
    
      
      
      
        <span class="md-tag">Agent</span>
      
    
      
      
      
        <span class="md-tag">LLM</span>
      
    
  </nav>



  <h1>Norco_1</h1>

<h2 id="llm">LLM</h2>
<p>LLM基础知识，参考<a href="/人工智能/LLM/LLM入门">LLM入门!</a></p>
<h2 id="_1">聊天模板</h2>
<p>将多轮消息转化为单个prompt。
如下</p>
<pre><code class="language-python">conversation = [
    {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;I need help with my order&quot;},
    {&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: &quot;I'd be happy to help. Could you provide your order number?&quot;},
    {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;It's ORDER-123&quot;},
]
</code></pre>
<p>将会被 SmolLM2转化为下面的格式。注意不同家的大模型，会有不同的模板。</p>
<pre><code>&lt;|im_start|&gt;system
You are a helpful AI assistant named SmolLM, trained by Hugging Face&lt;|im_end|&gt;
&lt;|im_start|&gt;user
I need help with my order&lt;|im_end|&gt;
&lt;|im_start|&gt;assistant
I'd be happy to help. Could you provide your order number?&lt;|im_end|&gt;
&lt;|im_start|&gt;user
It's ORDER-123&lt;|im_end|&gt;
&lt;|im_start|&gt;assistant
</code></pre>
<p>其中还包括system提示。</p>
<blockquote>
<p>[!NOTE]</p>
<p>Base模型只是预测下一个token。经过在不同聊天模板上的微调，可以产生Instruct模型。在实际调用时一定要用和微调同样的模板。</p>
</blockquote>
<h3 id="_2">使用模板</h3>
<p>如下是SmolLM的模板简化版本，可以很容易地理解怎么从多轮对话生成单个prompt。</p>
<pre><code class="language-python">{% for message in messages %}
{% if loop.first and messages[0]['role'] != 'system' %}
&lt;|im_start|&gt;system
You are a helpful AI assistant named SmolLM, trained by Hugging Face
&lt;|im_end|&gt;
{% endif %}
&lt;|im_start|&gt;{{ message['role'] }}
{{ message['content'] }}&lt;|im_end|&gt;
{% endfor %}
</code></pre>
<p>在python里，可以调用某个模型的<code>tokenizer.apply_chat_template</code>方法。</p>
<pre><code class="language-python">tokenizer = AutoTokenizer.from_pretrained(&quot;HuggingFaceH4/zephyr-7b-beta&quot;)
tokenized_chat = tokenizer.apply_chat_template(
    messages,
    tokenize=True,  # 进行分词，这样直接就可以输入模型
    add_generation_prompt=True,  #加入系统prompt，比如你是个好模型，帮别人……
    continue_final_message=False, #接着最后一条消息生成。注意一般模型不支持连续
    return_tensors=&quot;pt&quot;
)

</code></pre>
<blockquote>
<p><strong>！！！！！！！！！！！！！！！！</strong></p>
<p><code>add_generation_prompt=True</code>会默认开启新消息，比如在模板最后加入<code>&lt;|assistant|&gt;</code>标示从新生成一条模型回答。<strong>这与<code>continue_final_message=True</code>矛盾</strong>，所以不要同时将二者设为true。</p>
<p>huggingface的默认pipeline，会设置<code>add_generation_prompt=True</code>，除非聊天中最后一条消息是<code>&lt;|assistant|&gt;</code>，因为一般LLM不支持assistant连发两条消息，so设置<code>continue_final_message=True</code>。</p>
</blockquote>
<h2 id="_3">工具</h2>
<p><strong>工具是赋予 LLM 的函数</strong>，以下是 AI 智能体中常用的工具示例：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">工具类型</th>
<th style="text-align: center;">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">网络搜索</td>
<td style="text-align: center;">允许智能体从互联网获取最新信息</td>
</tr>
<tr>
<td style="text-align: center;">图像生成</td>
<td style="text-align: center;">根据文本描述生成图像</td>
</tr>
<tr>
<td style="text-align: center;">信息检索</td>
<td style="text-align: center;">从外部源检索信息</td>
</tr>
<tr>
<td style="text-align: center;">API 接口</td>
<td style="text-align: center;">与外部 API 交互（GitHub、YouTube、Spotify 等）</td>
</tr>
</tbody>
</table>
<p>合格的工具应包含：</p>
<ul>
<li><strong>函数功能的文本描述</strong></li>
<li><em>可调用对象</em>（执行操作的实体）</li>
<li>带类型声明的<em>参数</em></li>
<li>（可选）带类型声明的输出</li>
</ul>
<h3 id="_4">提供工具</h3>
<p>在系统prompt里面告诉LLM有哪些工具。为确保有效性，必须精准描述：</p>
<ol>
<li><strong>工具功能</strong></li>
<li><strong>预期输入格式</strong></li>
</ol>
<p>利用python，可以使用装饰器或者类来定义工具，然后自动化构建工具描述，比如</p>
<pre><code class="language-python">@tool
def calculator(a: int, b: int) -&gt; int:
    &quot;&quot;&quot;Multiply two integers.&quot;&quot;&quot;
    return a * b

print(calculator.to_string())
</code></pre>
<pre><code class="language-python">工具名称： calculator，描述：将两个整数相乘。参数：a: int, b: int，输出：int
</code></pre>
<h3 id="_5">使用工具</h3>
<p>智能体在一个持续的循环中工作：<strong>思考 (Thought) → 行动 (Act) 和观察 (Observe)</strong>。</p>
<ol>
<li><strong>思考 (Thought)</strong>：智能体的大语言模型 (LLM) 部分决定下一步应该是什么。</li>
<li>一步步来，通过prompt让大模型把任务分解为子任务</li>
<li><strong>行动 (Action)</strong>：智能体通过使用相关参数调用工具来采取行动。</li>
<li>JSON 智能体：要执行的动作以 JSON 格式指定。</li>
<li>代码智能体： 智能体编写代码块，由外部解释执行。</li>
<li>
<p>一个关键点：是<strong>在动作完成时能够停止生成新的token</strong>。</p>
</li>
<li>
<p><strong>观察 (Observation)</strong>：模型对工具的响应进行反思。</p>
</li>
</ol>
<p>这里有一个手搓演示Agent如何使用工具的<a href="https://huggingface.co/agents-course/notebooks/blob/main/dummy_agent_library.ipynb">notebook</a></p>
<h3 id="_6">例子</h3>
<p>我克隆了<a href="https://huggingface.co/spaces/agents-course/First_agent_template">huggingface space</a>，然后</p>
<ol>
<li>在个人设置里创建一个Read Token</li>
<li>在克隆的项目的设置里，Variables and secrets处添加这个token，名字为hf_token（和下面对的上就行）</li>
<li>在app.py中，添加<code>import os</code></li>
<li>在app.py中，在<code>model_id='xxxx'</code>下面，即调用LLM的参数中，添加<code>token=os.getenv('hf_token'),</code>这样就可以从huggingface调用该模型。</li>
</ol>
<p>以上解决方法来自<a href="https://huggingface.co/spaces/agents-course/First_agent_template/discussions/10">HF讨论区</a></p>
<p>是挺神奇的，知道自己用工具。</p>
<p><img alt="image-20250331224505884" src="../Agent%E5%85%A5%E9%97%A8.assets/image-20250331224505884.png" /></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.instant.preview", "navigation.indexes", "navigation.path", "navigation.sections", "navigation.expand", "header.autohide", "navigation.top", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
  
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    

  <!-- Extra JavaScript (can't be set in mkdocs.yml due to content hash) -->
  <script src="../../../assets/javascripts/custom.ts"></script>

  </body>
</html>